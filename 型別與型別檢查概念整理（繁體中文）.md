<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" class="logo" width="120"/>

## 型別與型別檢查概念整理（繁體中文）

**什麼是型別？**

- 在電腦中，記憶體只儲存 0 和 1 的序列。型別的作用有兩個：

1. 告訴程式應該以多大的「區塊」來讀取這些位元（例如每次讀取 32 位元）。
2. 指定這組位元所代表的是什麼（例如浮點數、字元、音樂等）[^1]。

**型別不相符的影響**

- 當你將資料從一個變數移到另一個變數時，若型別不相符，可能會造成資訊遺失。例如，程式預期整數但給了浮點數，可能會遺失小數部分[^1]。

**型別系統與型別檢查**

- 型別系統是一套規則，確保程式能正確解讀資料。
- 靜態型別語言（如 C、C++）：在編譯時檢查型別。
- 動態型別語言（如 Python）：在執行時檢查型別[^1]。


## Python 中的變數、物件與參照

- 變數、物件、參照是三個重要概念。
- 指派時，Python 會：

1. 建立物件（例如數字 3）
2. 建立變數名稱（如 x）
3. 建立變數名稱到物件的參照[^1]。
- 變數名稱和物件儲存在記憶體的不同區域，變數名稱永遠只會指向物件，而不會指向其他變數[^1]。


## 可變物件與不可變物件

- 可變物件（如 list、dict）：可以在程式執行期間修改內容。
- 不可變物件（如數字、字串）：建立後無法修改[^1]。


## 動態型別範例

**不可變物件指派過程：**

```python
x = 3
y = x
y = y - 1
```

- x = 3：建立物件 3，x 指向 3
- y = x：建立 y，y 指向 3
- y = y - 1：因數字不可變，建立新物件 2，y 改指向 2，x 仍指向 3[^1]。

**可變物件指派過程：**

```python
L1 = [2, 3, 4]
L2 = L1
L1[^0] = 24
```

- L1 = ...：建立 list 物件，L1 指向它
- L2 = L1：L2 也指向同一個 list 物件
- L1 = 24：修改 list 內容，L1 和 L2 都會看到變化（因為指向同一個物件）[^1]。


## 物件的型別、值與身份

- 每個物件有型別、值和身份（記憶體位置）。
- 可變物件內容相同但身份不同。例如：

```python
L = [1, 2, 3]
M = [1, 2, 3]
L == M  # True，內容相同
L is M  # False，身份不同
```

- 可用 `id()` 取得物件身份。`L is M` 判斷是否為同一物件，`L == M` 判斷內容是否相同[^1]。

**複製 list 的方法：**

- 直接指派（M = L）：M 和 L 指向同一個物件
- 建立新物件（M = list(L) 或 M = L[:]）：M 和 L 內容相同但為不同物件[^1]。

---

**總結：**
型別決定資料的解讀方式，Python 變數本質上是物件的參照。可變與不可變物件在指派與修改時行為不同，理解物件的型別、值和身份有助於避免程式中的非預期行為[^1]。

<div style="text-align: center">⁂</div>

[^1]: paste.txt

